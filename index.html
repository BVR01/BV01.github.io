

<html lang="fr">
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">             
      <title> MDS1 Sequencer Test</title>

    <script type="text/javascript" defer>

      let StepState=      [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]; 
   
      function handleClick(source) {
       
        var IDStep = document.getElementById(source);          
        var StepNumber = parseInt (source.charAt(source.length-1),10);
        
        if (IDStep.innerHTML=="0") {          
            StepState[StepNumber]="1";
        } else if (IDStep.innerHTML=="1"){          
            StepState[StepNumber]="0";
        }    
        IDStep.innerHTML=StepState[StepNumber];
      // alert((StepNumber-1) + ' de type '+ typeof(StepNumber)  );

      }
    
     function resetSteps(){
      var IDStep;
      var IDimage;
      var IDelement="STP";
      var IDinputs="trig";

        for(let indice=1; indice <9; indice++){
          IDelement+=indice; 
          IDinputs+=indice;  

          IDimage = document.getElementById(IDinputs);          
          IDStep = document.getElementById(IDelement);   
          // reset step status to 0
          IDStep.innerHTML="0";
          // reset input with unchecked attribut -> backgroung is off
          IDimage.checked = false; 

          //alert(IDelement);
          IDelement="STP";
          IDinputs="trig";
        }  
     }
    </script>

  <style> 
     *{
        margin  :   0;
        padding :   0;      
      }
      
      .main{
     	position : absolute;
        top : 50%;
        left: 50%;
         transform : translateX(-50%) translateY(-50%);            
      }

      .BackGround{
         background: linear-gradient(to right,#e91e63,#3f51b5);
         height: 100%; 
      }

     input[id^="t"]{
         display: none;      
      }
    
      .checker {
        background-image: url(images/StepOff.png);
        background-size: 60px 60px;
        display: inline-block;
        margin-left: 2px;
        width: 60px;
        height: 60px;      
      }

      input[id^="t"]:checked+.checker {     
        background-image: url(images/StepOn.png);   
      }

      div[id^="S"]{
        display: inline-block;
        margin-left: 12px;
        width: 50px;        
      }

      #Title {
        background-color: #221217; 
        color: antiquewhite;
        text-align: center;
        padding-top: 20px;
        padding-bottom: 40px;
      }

      #controlSequence {
        background: linear-gradient(to left,#e91e63,#3f51b5);
       /* background-color: #e91e63;  */   
        display: flex;
        flex-wrap: wrap;          /*Optionner - permet aux éléments de passer à la ligne en cas de besoin*/
        height: 40;
        justify-content: center; /*Permet de centrer dans l'axe principal*/
        
      }

      #ResetButton, #SendButton, #ReceiveButton {              
        background-color: #5e3341;
        padding-left: 20;
        padding-right: 20;
        border: none;
        color: antiquewhite;
      }
  </style> 

  </head>

  <body>
    <div id="Title">
        <h1>  Midi Tool for TS1</h1>
        <br>
        <h5>  Realease 0.1 </h5>
        <h5>  Coded by Bvr-Instruments 2020.</h5>

    </div>

    <div id="controlSequence">

      <button id ="ResetButton" onclick="resetSteps();">Reset Sequence</button>
      <button id ="SendButton" onclick="SendSteps();">Send Sequence</button>
      <button id ="ReceiveButton" onclick="RecceiveSteps();">Receive Sequence</button>
    </div>
    
  <div class ="BackGround"> </div>
  
  <div class= "main">
    
        <input id= "trig1" type="checkbox" onclick="handleClick('STP1');" >
        <label for="trig1" image class="checker"></label>
        <input id= "trig2" type="checkbox" onclick="handleClick('STP2');">
        <label for="trig2" image class="checker"></label>    
        <input id= "trig3" type="checkbox" onclick="handleClick('STP3');">    
        <label for="trig3" image class="checker"></label>  
        <input id= "trig4" type="checkbox" onclick="handleClick('STP4');">
        <label for="trig4" image class="checker"></label>
        <input id= "trig5" type="checkbox" onclick="handleClick('STP5');" >
        <label for="trig5" image class="checker"></label>
        <input id= "trig6" type="checkbox" onclick="handleClick('STP6');">
        <label for="trig6" image class="checker"></label>    
        <input id= "trig7" type="checkbox" onclick="handleClick('STP7');">    
        <label for="trig7" image class="checker"></label>  
        <input id= "trig8" type="checkbox" onclick="handleClick('STP8');">
        <label for="trig8" image class="checker"></label>
   
    <div>
      <div id="STP1">0</div> <div id="STP2">0</div> <div id="STP3">0</div> <div id="STP4">0</div> 
      <div id="STP5">0</div> <div id="STP6">0</div> <div id="STP7">0</div> <div id="STP8">0</div>
    </div>

  </div> 

  </body>  
  
</html>
